<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Tinder: Main Page</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main-page.css">
</head>
<body>

<header class="main-header">
    <a href="./main-page.html" class="main-header-logo"><img src="img/iba-tech-logo-white.svg" alt="IBA Tech Academy"></a>
    <div class="main-header-wrapper">
        <label class="main-header-search-wrapper">
            <input type="search" class="main-header-search" placeholder="Add new profile">
            <img src="img/search-icon.svg" alt="Search Icon">
        </label>
        <div class="main-header-profile-wrapper">
            <div class="main-header-profile-credentials">
                <span class="main-header-profile-welcome">
                <h1>Welcome, [[${username}]]!</h1>
                </span>

                <!--                </span>-->
                <!--                        <span  th:text="${user.getName()}"></span>--><!--                 th:text="${#authentication.getName()}"-->
            </div>
            <img class="main-header-user-icon" src="img/user-icon-with-background.svg" alt="User Icon">
            <div class="hidden-accordion-wrapper">
                <ul class="hidden-accordion">
                    <li class="hidden-accordion-item">
                        <a href="my-profile" class="hidden-accordion-item-link">
                            <img class="hidden-accordion-item-image" src="img/user-icon-gray.svg" alt="User Icon">Profile</a></li>
                    <li class="hidden-accordion-item"><a href="favorites.html" class="hidden-accordion-item-link"><img class="hidden-accordion-item-image" src="img/favourite-icon.svg" alt="Favourite Icon">Favourites</a></li>
                    <li class="hidden-accordion-item"><a href="#" class="hidden-accordion-item-link"><img class="hidden-accordion-item-image" src="img/message-icon.svg" alt="Message Icon">Chat</a></li>
                    <li class="hidden-accordion-item"><a href="login.html" class="hidden-accordion-item-link"><img class="hidden-accordion-item-image" src="img/log-out-icon.svg" alt="Log Out Icon">Log Out</a></li>
                </ul>
            </div>
        </div>
    </div>
</header>

<table>
    <thead>
    <tr>
        <th>Name</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="user : ${users}">
        <td th:text="${user.firstname}"></td>
        <td>
            <form th:action="@{/favorites/like}" method="post">
                <input type="hidden" name="userIds[]" th:value="${user.id}" />
                <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
                <button type="submit">Like</button>
            </form>
            <form th:action="@{/favorites/dislike}" method="post">
                <input type="hidden" name="userIds[]" th:value="${user.id}" />
                <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
                <button type="submit">Dislike</button>
            </form>
        </td>
    </tr>
    </tbody>
</table>


</body>
</html>